# TencentDB MariaDB

import Content from '../../reuse-content/_enterprise-and-cloud-features.md';

<Content />

Please follow the instructions below to successfully add and use MariaDB databases in TapData Cloud.

## Supported Version

MariaDB 10.x

## Prerequisites (as a source)

### Enable Binlog

- Binlog must be enabled in MariaDB for TapData to complete synchronization work.
- Cascading delete operations (CASCADE DELETE) generated by the database are not recorded in the binlog and are not supported. Modify `$MYSQL_HOME/mysql.cnf`, for example:

```sql
server_id         = 223344
log_bin           = mysql-bin
expire_logs_days  = 1
binlog_format     = row
binlog_row_image  = full
```

### Restart MariaDB

```sql
/etc/init.d/mysqld restart
```

Verify that binlog is enabled by executing the following command in the mysql shell:

```sql
show variables like 'binlog_format';
```

The output should show `ROW` as the value for format.

### **Create MariaDB Account**

```sql
create user 'username'@'localhost' identified by 'password';
```

### Grant tapdata Account Permissions

Grant SELECT permissions for a specific database:

```sql
GRANT SELECT, SHOW VIEW, CREATE ROUTINE, LOCK TABLES ON <DATABASE_NAME>.<TABLE_NAME> TO 'tapdata' IDENTIFIED BY 'password';
```

Grant global permissions:

```sql
GRANT RELOAD, SHOW DATABASES, REPLICATION SLAVE, REPLICATION CLIENT, SUPER ON *.* TO 'tapdata' IDENTIFIED BY 'password';
```

## Prerequisites (as a target)

Grant full privileges for a specific database:

```sql
GRANT ALL PRIVILEGES ON <DATABASE_NAME>.<TABLE_NAME> TO 'tapdata' IDENTIFIED BY 'password';
```

Grant global permissions:

```sql
GRANT PROCESS ON *.* TO 'tapdata' IDENTIFIED BY 'password';
```